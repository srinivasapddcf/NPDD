<div class="card">
  <div class="card-header p-2">
      <h5 class="mb-0">PURCHASE ORDER DETAILS REPORT</h5>
  </div>
  <div class="card-body">

      <div class="col-md-12 row">
          <div class="col-md-4" style="text-align: right;">  <label for="UninonId">SELECT PONUMBER AND DATE
            <span style="color: red">*</span></label></div>
          <div class="col-md-4">
              <div class="form-group">
                
                  <select id="PMID" class="form-control" [(ngModel)]="PMID" (change)="POBYPONUMBER()">
                      <option disabled selected value="undefined">-- Select Component name --</option>
                      <option value="{{ obj.PMID }}" *ngFor="let obj of Podetailslist"> {{ obj.PONUMBER }} </option>
                  </select>
              </div>
          </div> 
          <div class="col-md-4">.</div>
          <div class="col-md-12">
              <HR style="height: 5px;color:brown;background-color: brown;">
          </div>
      </div>  
      <div class="col-md-12 row">
          <div class="col-md-12" [hidden]="purchasedetailsList?.length < 1">
              <button type="button" class="btn btn-success btn-sm pull-right" (click)="btnExcel()">
                  <i class="fa fa-file-excel-o mr-2" aria-hidden="true"></i>
                  Download Excel
              </button>

          </div>



          <div class="table-responsive" [hidden]="purchasedetailsList?.length < 1" *ngFor="let objd of purchasedetailsList;">


                
                <div class="col-md-12">
                     <div class="row" style="height: 28px;">
                        <div class="col-md-1"   style="font-size: 12px;" ><b>Form Name :</b></div>
                        <div class="col-md-4" style="background-color: rgb(219, 212, 204);height: 28px; font-size: 12px;">{{objd.FIRMNAME}}</div>
                        <div class="col-md-1" style="text-align: right;"><b>PONO :</b></div>
                        <div class="col-md-3" style="background-color: rgb(219, 212, 204);height: 28px;">{{objd.PONUMBER}}</div>               
                        <div class="col-md-1" style="text-align: right;"><b>PO Date :</b></div>
                        <div class="col-md-2" style="background-color: rgb(219, 212, 204);height: 28px;text-align: left;">{{objd.PODATE .substring(0, 10) }}</div>
                     </div>


                        <div class="row" style="height: 28px;">
                            <div class="col-md-1" style="font-size: 12px;"  ><b>COMPNAME :</b></div>
                            <div class="col-md-4" style="background-color: rgb(219, 212, 204);height: 28px; text-align: left;font-size: 12px; ">{{objd.COMPNAME}}</div> 
                           
                        
                       
                        
                        <div class="col-md-1"    ><b>PO Units :</b></div>
                        <div class="col-md-1" style="background-color: rgb(219, 212, 204);height: 28px;text-align: left;">{{objd.UNITS}}</div>
                        <div class="col-md-2"  ><b>Supplied Qty :</b><span style="background-color: rgb(219, 212, 204);height: 28px;"> {{ reportTotal.INVOICE_QUANTITY }}</span></div>
                        <div class="col-md-1"  ><b>BALANCE:</b>  </div>
                        <div class="col-md-2" style="background-color: rgb(219, 212, 204);height: 28px;text-align: left;">{{objd.UNITS- reportTotal.INVOICE_QUANTITY   }}</div>
                     </div>
                </div>
                 


            <!-- " datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" -->
              <!-- <table class="table table-striped ah-table text-center" style="display: none;"
                  data-page-length='25'>
                  <thead class="bg-success text-white" style="border: 1px solid white;">
                      <tr>
                          <th class="tableheader_color">S.No</th>
                          <th class="tableheader_color">Form Name </th>
                          <th class="tableheader_color">Component Name </th>
                          <th class="tableheader_color">Purchase Order Date</th>
                          <th class="tableheader_color">Purchase Order</th>
                          <th class="tableheader_color">Total Units</th>
                          <th class="tableheader_color">Total Rate</th>
                      </tr>

                      <tr>
                          <th class="tableheader_color">(1)</th>
                          <th class="tableheader_color">(2)</th>
                          <th class="tableheader_color">(3)</th>
                          <th class="tableheader_color">(4)</th>
                          <th class="tableheader_color">(5)</th>
                          <th class="tableheader_color">(6)</th>
                          <th class="tableheader_color">(7)</th>

                      </tr>

                  </thead>
                  <tbody>
                      <tr calss="table_cells_borders" *ngFor="let objd of purchasedetailsList; let i = index">
                          <td class="number_align">{{i+1}}</td>
                          <td class="text_alignleft"><b>{{objd.FIRMNAME}}</b></td>
                          <td class="text_alignleft"><b>{{objd.COMPNAME}}</b></td>
                          <td class="text_alignleft"><b>{{objd.PODATE}}</b></td>
                          <td class="number_align"><b>{{objd.PONUMBER}}</b></td>
                          <td class="number_align"><b>{{objd.UNITS}}</b></td>
                          <td class="number_align"><b>{{objd.PRICES}}</b></td>
                      </tr>
                  </tbody>
<footer>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</footer>

              </table> -->

          </div>  


      </div>
      <div class="col-md-12 row">
        <HR style="height: 5px;color:brown;background-color: brown;">
    </div>
      <div class="col-md-12 row"> 

        <div class="table-responsive" [hidden]="DistrictdetailsList?.length < 1">

            <!-- <table class="table table-striped ah-table text-center"  
                data-page-length='25'>
                <thead class="bg-success text-white" style="border: 1px solid white;"> -->

                    <table class="table table-striped ah-table text-center" datatable [dtOptions]="dtOptions"
                    [dtTrigger]="dtTrigger" data-page-length='25' >
                    <thead class="bg-success text-white" style="border: 1px solid white;BACKGROUND-COLOR: #124e66 !important;">

                    <tr  >
                        <th class="tableheader_color">SNo.</th> 
                        <th class="tableheader_color">DISTRICT NAME</th>
                        <th class="tableheader_color"  >QUANTITY</th>
                        <th class="tableheader_color"  >AMOUNT</th>
                        <th class="tableheader_color"  >NO.OF INVOICES</th>
                        <th class="tableheader_color"  >INVOICE QUANTITY</th>
                        <th class="tableheader_color"   >INVOICE AMOUNT</th>
                        <th class="tableheader_color" >BALANCE QUANTITY</th>
                        <th class="tableheader_color"  >BALANCE AMOUNT</th>
     
                    </tr>
                    <tr style="BACKGROUND-COLOR: #124e66;">
                        <th class="tableheader_color">(1)</th>
                        <th class="tableheader_color">(2)</th>
                        <th class="tableheader_color">(3)</th>
                        <th class="tableheader_color">(4)</th>
                        <th class="tableheader_color">(5)</th>
                        <th class="tableheader_color">(6)</th>
                        <th class="tableheader_color">(7)</th>
                        <th class="tableheader_color">(8)</th> 
                        <th class="tableheader_color">(9)</th>
        
                    </tr>
                </thead>
                <tbody calss="table_cells_borders">
                    <tr *ngFor="let obj1 of DistrictdetailsList; let i=index;">
                        <td class="number_align">{{ i + 1 }}</td> 
                        <td  class="text_alignleft" >{{obj1.DISTRICTNAME}}</td>
                        <td class="number_align">{{obj1.QUANTITY}}</td>
                        <td class="number_align">{{obj1.AMOUNT  | currency:'INR':'symbol' }}</td> 


                        <td class="number_align"> 
                            <a style="cursor: pointer; text-decoration: underline" class="text-primary"
                            (click)="btnGetDetails(obj1,1)"><b>{{obj1.INVOICE_NO }}</b></a>

                        </td> 
                        <td class="number_align">{{obj1.INVOICE_QUANTITY}}</td> 
                        <td class="number_align">{{obj1.INVOICE_AMOUNT  | currency:'INR':'symbol'}}</td> 
                        <td class="number_align">{{obj1.BALANCE_QUANTITY}}</td> 
                        <td class="number_align">{{obj1.BALANCE_INVOICE   | currency:'INR':'symbol' }}</td> 
     
                    </tr>
                </tbody>

<!-- <footer>
    <tr> <td>   </td>
        <td>  {{reportTotal.DISTRICTNAME}} </td>
        <td>  {{reportTotal.QUANTITY}} </td>
        <td>  {{reportTotal.AMOUNT}} </td>
        <td>  {{reportTotal.INVOICE_QUANTITY}} </td>
        <td>  {{reportTotal.INVOICE_AMOUNT}} </td>
        <td>  {{reportTotal.BALANCE_QUANTITY}} </td>
        <td>  {{reportTotal.BALANCE_INVOICE}} </td>   
    </tr>
</footer> -->


<tbody *ngIf="DistrictdetailsList?.length > 0">
    <td class="font-weight-bold text_alignleft">--</td>
    <td class="font-weight-bold text_alignleft">
        <b>TOTAL</b>
    </td>
    <td class="font-weight-bold number_align" >{{ reportTotal.QUANTITY | indianNumber  :2 }}</td>
    <td class="font-weight-bold number_align">{{ reportTotal.AMOUNT | indianNumber   :2 }}</td>
    <td class="font-weight-bold number_align">
        <!-- {{ reportTotal.INVOICE_NO | indianNumber   :2 }} -->

        <a style="cursor: pointer; text-decoration: underline" class="text-primary"
        (click)="btnGetDetails(obj1,0)"><b>{{reportTotal.INVOICE_NO }}</b></a>

    </td>
    <td class="font-weight-bold number_align">{{ reportTotal.INVOICE_QUANTITY | indianNumber   :2 }}</td>
    <td class="font-weight-bold number_align">{{ reportTotal.INVOICE_AMOUNT | indianNumber   :2 }}</td>
    <td class="font-weight-bold number_align">{{ reportTotal.BALANCE_QUANTITY | indianNumber  :2 }}</td>
    <td class="font-weight-bold number_align">{{ reportTotal.BALANCE_INVOICE | indianNumber  :2 }}</td>



</tbody>


            </table>

        </div>


      </div>










  </div>
</div>